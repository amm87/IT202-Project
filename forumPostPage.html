<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="stylesheet.css">
<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
</head>
<script> 
 $(function(){
 $("#includedContent").load("header.html"); 
  });
</script>
<div id="includedContent"></div>

<body>

<form action="forumPostPage.php" method="post">
<div class="form-group">
  <label for="usr">Title:</label>
  <input type="text" class="form-control" id="title">
</div>

<div class="container">
  <form role="form">
    <div class="form-group">
      <label for="comment">Comment:</label>
      <textarea class="form-control" rows="5" id="comment"></textarea>
      <button type="button" onclick="sendPost();" class="btn btn-default">Post</button>
    </div>
    
  </form>
</div>
</form>
</body>
<div id="output"></div>
<script>
var request;
function sendPost()
{
	var title = document.getElementById("title").value;
	request = new XMLHttpRequest();
	request.onreadystatechange = handleResponse;
	request.open("POST","forumPostPage.php",true);
	request.setRequestHeader("Content-type","application/json");
	var data = JSON.stringify({request:"addPost",title:title});
	request.send(data);
	sendComment();
	
}

function handleResponse()
{
		document.getElementById("output").innerHTML = ""+
		"<p>"+request.responseText+"</p>";
}
function sendComment()
{	
	var title = document.getElementById("title").value;
	var com = document.getElementById("comment").value;
	request = new XMLHttpRequest();
	request.onreadystatechange = handleResponse;
	request.open("POST","addComment.php",true);
	request.setRequestHeader("Content-type","application/json");
	var data = JSON.stringify({request:"addComment",comment:com,title:title});
	request.send(data);
	
}
</script>
</html>
